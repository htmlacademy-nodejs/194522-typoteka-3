extends layout.pug

block vars
  - var wrapperClassNames='wrapper'

block content
  main.main-page
    h1.visually-hidden Ð“Ð»Ð°Ð²Ð½Ð°Ñ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ð° Ð»Ð¸Ñ‡Ð½Ð¾Ð³Ð¾ Ð±Ð»Ð¾Ð³Ð° Ð¢Ð¸Ð¿Ð¾Ñ‚ÐµÐºÐ°
    p
      | Ð­Ñ‚Ð¾ Ð¿Ñ€Ð¸Ð²ÐµÑ‚ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¹ Ñ‚ÐµÐºÑÑ‚, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð²Ð»Ð°Ð´ÐµÐ»ÐµÑ† Ð±Ð»Ð¾Ð³Ð° Ð¼Ð¾Ð¶ÐµÑ‚ Ð²Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¾Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ÑÐµÐ±Ñ ðŸ‘
    include patrials/counted-categories.pug
    .main-page__section-flex
      section.main-page__hot.hot
        h2.hot__name
          | Ð¡Ð°Ð¼Ð¾Ðµ Ð¾Ð±ÑÑƒÐ¶Ð´Ð°ÐµÐ¼Ð¾Ðµ
          span.hot__icon.hot__icon--fire
        ul.hot__list
          each article in mostCommentedArticles
            li.hot__list-item
              a.hot__list-link(href=`/articles/${article.id}`) #{article.title}
                sup.hot__link-sup #{article.commentsCount}
      section.main-page__last.last
        h2.last__name
          | ÐŸÐ¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ð¸
          span.last__icon.last__icon--cloud
        ul.last__list
          each comment in comments
            li.last__list-item
              img.last__list-image(src=`/img/${comment.user.avatar}` width='20' height='20' alt='ÐÐ²Ð°Ñ‚Ð°Ñ€ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ')
              b.last__list-name #{comment.user.firstName} #{comment.user.lastName}
              a.last__list-link(href=`/articles/${comment.articleId}`) #{comment.text}
    section.main-page__list.preview
      h2.visually-hidden Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð¿Ñ€ÐµÐ²ÑŒÑŽ ÑÑ‚Ð°Ñ‚ÐµÐ¹
      ul.preview__list
        each article in articles
          li.preview__item
            ul.preview__breadcrumbs
              each category in article.categories
                li.preview__breadcrumbs-item
                  a.preview__breadcrumbs-link(href=`/articles/category/${category.id}`) #{category.name}
            if article.image
              .preview__background
                a(href=`/articles/${article.id}`)
                  img.preview__background-image(src=`/img/${article.image}` alt=article.title)
            time.preview__time(datetime='2019-03-21T20:33') #{article.createdDate}
            h3.preview__name
              a.preview__name-link(href=`/articles/${article.id}`) #{article.title}
            p.preview__text #{article.announce}
            a.preview__comment(href='#')
              | ÐšÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ð¸
              span.preview__cloud
              b.preview__comment-count #{article.comments.length}
    if totalPagesCount > 1
      +pagination(totalPagesCount, currentPage, 2)
